FROM node:14.16.1-alpine3.10 AS base
WORKDIR /app
COPY . .
RUN npm install

EXPOSE 5000


RUN apk update && apk add bash
RUN npm run tsoa:gen; npm run build;

CMD ["node", "index.js"]
# RUN wget https://github.com/vishnubob/wait-for-it/raw/master/wait-for-it.sh -O wait-for-it.sh && chmod +x wait-for-it.sh